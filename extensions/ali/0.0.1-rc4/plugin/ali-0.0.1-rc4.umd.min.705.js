(("undefined"!==typeof self?self:this)["webpackChunkali_0_0_1_rc4"]=("undefined"!==typeof self?self:this)["webpackChunkali_0_0_1_rc4"]||[]).push([[705],{227:function(e,t,a){"use strict";a.r(t);var o=a(429),r=a.n(o),i=a(1214),s=a.n(i),l=s()(r());l.push([e.id,".labeled-tooltip[data-v-18275676]{position:absolute;width:100%;height:100%;left:0;top:0}.labeled-tooltip.hoverable[data-v-18275676]{height:0}.labeled-tooltip .status-icon[data-v-18275676]{position:absolute;right:30px;top:18px;z-index:3}.labeled-tooltip.error .status-icon[data-v-18275676]{color:var(--error);top:7px;right:5px}.labeled-tooltip.warning .status-icon[data-v-18275676]{color:var(--warning)}.labeled-tooltip.success .status-icon[data-v-18275676]{color:var(--success)}",""]),t["default"]=l},620:function(e,t,a){"use strict";a.r(t);var o=a(429),r=a.n(o),i=a(1214),s=a.n(i),l=s()(r());l.push([e.id,".validation-message{padding:5px;position:absolute;bottom:-35px}",""]),t["default"]=l},1405:function(e,t,a){var o=a(620);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(4825).A;r("016ee8bb",o,!0,{sourceMap:!1,shadowMode:!1})},1603:function(e,t,a){var o=a(227);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(4825).A;r("2f7d4ce2",o,!0,{sourceMap:!1,shadowMode:!1})},2570:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var o=a(9274);const r={key:0,class:"loading-indicator"},i={key:1};function s(e,t,a,s,l,n){const u=(0,o.resolveComponent)("t");return a.loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[l.showMessage?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["overlay",{"overlay-content-mode":"content"===a.mode,"overlay-main-mode":"main"===a.mode}])},[(0,o.createVNode)(u,{k:"generic.loading",raw:!0})],2)):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)]))}var l={props:{loading:{type:Boolean,default:!0},mode:{type:String,default:"content"},noDelay:{type:Boolean,default:!1}},data(){return{timer:null,showMessage:this.noDelay}},mounted(){this.timer=setTimeout(()=>{this.showMessage=!0},250)},beforeUnmount(){clearTimeout(this.timer)}},n=(a(8166),a(7433));const u=(0,n.A)(l,[["render",s],["__scopeId","data-v-fac347aa"]]);var d=u},3369:function(e,t){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidCron=void 0;var o=function(e){return/^\d+$/.test(e)?Number(e):NaN},r=function(e){return"*"===e},i=function(e){return"?"===e},s=function(e,t,a){return e>=t&&e<=a},l=function(e,t,a){var i=e.split("-");switch(i.length){case 1:return r(e)||s(o(e),t,a);case 2:var l=i.map(function(e){return o(e)}),n=l[0],u=l[1];return n<=u&&s(n,t,a)&&s(u,t,a);default:return!1}},n=function(e){return void 0===e||-1===e.search(/[^\d]/)&&o(e)>0},u=function(e,t,a){if(-1!==e.search(/[^\d-,\/*]/))return!1;var o=e.split(",");return o.every(function(e){var o=e.split("/");if(e.trim().endsWith("/"))return!1;if(o.length>2)return!1;var r=o[0],i=o[1];return l(r,t,a)&&n(i)})},d=function(e){return u(e,0,59)},c=function(e){return u(e,0,59)},h=function(e){return u(e,0,23)},p=function(e,t){return t&&i(e)||u(e,1,31)},v={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},f=function(e,t){if(-1!==e.search(/\/[a-zA-Z]/))return!1;if(t){var a=e.toLowerCase().replace(/[a-z]{3}/g,function(e){return void 0===v[e]?e:v[e]});return u(a,1,12)}return u(e,1,12)},m={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},y=function(e,t){var a=t.allowBlankDay,r=t.alias,l=t.allowSevenAsSunday,n=t.allowNthWeekdayOfMonth;if(a&&i(e))return!0;if(!a&&i(e))return!1;if(-1!==e.search(/\/[a-zA-Z]/))return!1;var d=r?e.toLowerCase().replace(/[a-z]{3}/g,function(e){return void 0===m[e]?e:m[e]}):e,c=l?7:6,h=d.split("#");if(n&&h.length>=2){var p=h[0],v=h[1],f=h.slice(2);return 0===f.length&&(s(o(v),1,5)&&s(o(p),0,c))}return u(d,0,c)},b=function(e,t,a){return!(a&&i(e)&&i(t))},g=function(e){return e.trim().split(/\s+/)},k={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1,allowNthWeekdayOfMonth:!1};t.isValidCron=function(e,t){var o=a(a({},k),t),r=g(e);if(r.length>(o.seconds?6:5)||r.length<5)return!1;var i=[];if(6===r.length){var s=r.shift();s&&i.push(d(s))}var l=r[0],n=r[1],u=r[2],v=r[3],m=r[4];return i.push(c(l)),i.push(h(n)),i.push(p(u,o.allowBlankDay)),i.push(f(v,o.alias)),i.push(y(m,o)),i.push(b(u,m,o.allowBlankDay)),i.every(Boolean)}},3927:function(e,t,a){"use strict";a.d(t,{A:function(){return b}});var o=a(4220),r=a(9274),i=a(9136),s=a(9726),l=a(8851),n=a(4302),u=a(4364);let d=1;const c="_beforeSaveHooks",h="_afterSaveHooks";var p={methods:{registerBeforeHook(e,t,a=99,o){this._registerHook(c,e,t,a,o)},unregisterBeforeSaveHook(e){this[c]=this[c].filter(t=>t.name!==e)},registerAfterHook(e,t,a=99,o){this._registerHook(h,e,t,a,o)},async applyHooks(e,...t){if(!e)throw new Error("Must specify key");const a=(0,n.Ul)(this[e]||[],["priority","name"]),o={};for(const r of a)u.debug("Applying hook",r.name),o[r.name]=await r.fn.apply(r.fnContext||this,t);return o},_registerHook(e,t,a,o,r){if(!e)throw new Error("Must specify key");a||(a=`hook_${d}`,d++),o||(o=99);let i=this[e];i||(i=[],this[e]=i);let s=(0,l.jq)(i,"name",a);s?(s.priority=o,s.fn=t,s.fnContext=r):(s={name:a,priority:o,fn:t,fnContext:r},i.push(s))}}},v=a(5664),f=a(9401),m=a(4364),y={name:"CreateEditView",mixins:[p],emits:["done"],data(){return{errors:[]}},computed:{isCreate(){return this.mode===o.YQ},isEdit(){return this.mode===o.G5},isView(){return this.mode===o.nW},schema(){const e=this.storeOverride||this.$store.getters["currentStore"](this.value.type);return this.$store.getters[`${e}/schemaFor`](this.value.type)},isNamespaced(){return this.schema?.attributes?.namespaced||!1},labels:{get(){return this.value?.labels},set(e){this.value.setLabels(e)}},annotations:{get(){return this.value?.annotations},set(e){this.value.setAnnotations(e)}},doneRoute(){if(this.value?.doneRoute)return this.value.doneRoute;let e=this.$route.name;return e?.endsWith("-id")?e=e.replace(/(-namespace)?-id$/,""):e?.endsWith("-create")&&(e=e.replace(/-create$/,"")),e},doneParams(){if(this.value?.doneParams)return this.value.doneParams;const e={...this.$route.params};return delete e.namespace,delete e.id,e}},methods:{done(){if(!this.doneEvent)return this.doneLocationOverride?this.$router.replace(this.doneLocationOverride):void(this.doneRoute&&this.$router.replace({name:this.doneRoute,params:this.doneParams||{resource:this.value.type}}));this.$emit("done")},async conflict(){return await(0,f.Rq)(this.initialValue,this.value,this.liveValue,{dispatch:this.$store.dispatch,getters:this.$store.getters},this.storeOverride||this.$store.getters["currentStore"](this.value.type))},async save(e,t,a=0){this.errors&&(0,l.IU)(this.errors);try{if(await this.applyHooks(c,this.value),this.value?.metadata?.labels&&0===Object.keys(this.value.metadata.labels||{}).length&&delete this.value.metadata.labels,this.value?.metadata?.annotations&&0===Object.keys(this.value.metadata.annotations||{}).length&&delete this.value.metadata.annotations,this.isCreate){const e=this.value?.metadata?.namespace;e&&e!==v.eo&&this.value.$dispatch("prefs/set",{key:i.Ri,value:e},{root:!0})}await this.actuallySave(t),this.$store.getters["type-map/isSpoofed"](this.value.type)&&await this.$store.dispatch("cluster/findAll",{type:this.value.type,opt:{force:!0}},{root:!0}),await this.applyHooks(h,this.value),e&&e(!0),this.done()}catch(o){const r=409===o.status||409===o._status;if(r&&0===a&&this.isEdit){const o=await this.conflict();if(!1===o)return this.save(e,t,a+1);this.errors=o}else this.errors=(0,s.rz)(o);m.error("CreateEditView mixin failed to save: ",o),e&&e(!1)}},async actuallySave(e){if(this.isCreate){e=e||this.schema.linkFor("collection");const t=await this.value.save({url:e});t&&Object.assign(this.value,t)}else await this.value.save()},setErrors(e){this.errors=e}}},b=(0,r.defineComponent)({...y,props:{mode:{type:String,default:o.G5},realMode:{type:String,default:o.G5},as:{type:String,default:o.zD},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1},useTabbedHash:{type:Boolean,default:void 0}}})},5814:function(e,t,a){"use strict";a.r(t);var o=a(429),r=a.n(o),i=a(1214),s=a.n(i),l=s()(r());l.push([e.id,".overlay[data-v-fac347aa]{align-items:center;background-color:var(--subtle-overlay-bg);display:flex;justify-content:center;position:absolute;bottom:0;top:0;left:0;right:0;text-align:center;z-index:12}.overlay-main-mode[data-v-fac347aa]{top:var(--header-height);z-index:51}.overlay-content-mode[data-v-fac347aa]{left:calc(var(--nav-width));top:var(--header-height)}",""]),t["default"]=l},6563:function(e,t,a){var o=a(9971);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(4825).A;r("390a2072",o,!0,{sourceMap:!1,shadowMode:!1})},7651:function(e,t,a){"use strict";var o=a(6978),r=a(6158);t.A={data(){return{fvFormRuleSets:[],fvReportedValidationPaths:[]}},methods:{fvGetPathRules(e){return this.fvRulesets.find(t=>t.path===e)?.rules||[]},fvGetAndReportPathRules(e){const t=this.fvGetPathRules(e);return t.length>0&&!this.fvReportedValidationPaths.includes(e)&&(this.fvReportedValidationPaths=[...this.fvReportedValidationPaths,e]),t},fvGetPathValues(e){const t=this.fvRulesets.find(t=>t.path===e);return t?(0,o.Ib)(t?.rootObject||this.value,t?.path):[]},fvGetValues(e,t,a){return a.length>1&&"object"===typeof e&&!Array.isArray(e)&&null!==e?{...e,idx:t}:e},fvGetPathErrors(e=[]){const t=e.reduce((e,t)=>{const a=[],o=this.fvGetPathRules(t),r=this.fvGetPathValues(t).map(this.fvGetValues);return o.forEach(e=>{r.forEach(t=>{a.push(e(t))})}),[...e,...a].filter(Boolean)},[]);return t}},computed:{fvExtraRules(){return{}},fvRulesets(){const e=()=>{};return[...this.fvFormRuleSets.map(t=>{const a={...(0,r.A)(this.$store.getters["i18n/t"],{displayKey:t?.translationKey?this.$store.getters["i18n/t"](t.translationKey):"Value"}),...this.fvExtraRules};return{...t,rules:t.rules.map(t=>a[t]||e),formValidationRule:!0}}),...(this?.value?.modelValidationRules||[]).map(e=>({...e,formValidationRule:!1}))]},fvUnreportedValidationErrors(){const e=this.fvRulesets.filter(e=>!!e.formValidationRule&&!this.fvReportedValidationPaths.includes(e.path)).map(e=>e.path),t=this.fvGetPathErrors(e),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value,this.fvReportedValidationPaths):[];return[...t,...a,...this.errors||[]]},fvValidationErrors(){const e=this.fvRulesets.filter(e=>!!e.formValidationRule).map(e=>e.path),t=this.fvGetPathErrors(e),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value):[];return[...t,...a]},fvFormIsValid(){return 0===this.fvValidationErrors.length}}}},8166:function(e,t,a){var o=a(5814);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var r=a(4825).A;r("c071c324",o,!0,{sourceMap:!1,shadowMode:!1})},8326:function(e,t,a){"use strict";a.d(t,{o:function(){return N}});var o=a(9274);const r=["for"],i={key:2,class:"required","aria-hidden":!0},s=["id","role","maxlength","disabled","aria-disabled","type","value","placeholder","data-lpignore","aria-describedby","aria-required"],l={key:2,class:"sub-label","data-testid":"sub-label"},n=["id","aria-label"],u=["id"];function d(e,t,a,d,c,h){const p=(0,o.resolveComponent)("t"),v=(0,o.resolveComponent)("TextAreaAutoGrow"),f=(0,o.resolveComponent)("LabeledTooltip"),m=(0,o.resolveDirective)("stripped-aria-label"),y=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)({"labeled-input":!0,focused:e.focused,[e.mode]:!0,disabled:e.isDisabled,[e.status]:e.status,suffix:e.hasSuffix,"v-popper--has-tooltip":e.hasTooltip,"compact-input":e.isCompact,hideArrows:e.hideArrows,[e.className]:!0})},[(0,o.renderSlot)(e.$slots,"label",{},()=>[e.hasLabel?((0,o.openBlock)(),(0,o.createElementBlock)("label",{key:0,for:e.inputId},[e.labelKey?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,k:e.labelKey},null,8,["k"])):e.label?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)],64)):(0,o.createCommentVNode)("",!0),e.requiredField?((0,o.openBlock)(),(0,o.createElementBlock)("span",i,"*")):(0,o.createCommentVNode)("",!0)],8,r)):(0,o.createCommentVNode)("",!0)],!0),(0,o.renderSlot)(e.$slots,"prefix",{},void 0,!0),(0,o.renderSlot)(e.$slots,"field",{},()=>["multiline"===e.type||"multiline-password"===e.type?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(v,(0,o.mergeProps)({key:0,id:e.inputId,ref:"value"},e.$attrs,{maxlength:e._maxlength,disabled:e.isDisabled,"aria-disabled":e.isDisabled,value:e.value||"",placeholder:e._placeholder,autocapitalize:"off",class:{conceal:"multiline-password"===e.type},"aria-describedby":e.ariaDescribedBy,"aria-required":e.requiredField,"onUpdate:value":e.onInput,onFocus:e.onFocus,onBlur:e.onBlur}),null,16,["id","maxlength","disabled","aria-disabled","value","placeholder","class","aria-describedby","aria-required","onUpdate:value","onFocus","onBlur"])),[[m,!e.hasLabel&&e.ariaLabel?e.ariaLabel:void 0]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("input",(0,o.mergeProps)({key:1,id:e.inputId,ref:"value",role:"number"===e.type?void 0:"textbox",class:{"no-label":!e.hasLabel}},e.$attrs,{maxlength:e._maxlength,disabled:e.isDisabled,"aria-disabled":e.isDisabled,type:"cron"===e.type?"text":e.type,value:e.value,placeholder:e._placeholder,autocomplete:"off",autocapitalize:"off","data-lpignore":e.ignorePasswordManagers,"aria-describedby":e.ariaDescribedBy,"aria-required":e.requiredField,onInput:t[0]||(t[0]=(...t)=>e.onInput&&e.onInput(...t)),onFocus:t[1]||(t[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.onBlur&&e.onBlur(...t)),onChange:t[3]||(t[3]=(...t)=>e.onChange&&e.onChange(...t))}),null,16,s)),[[m,!e.hasLabel&&e.ariaLabel?e.ariaLabel:void 0]])],!0),(0,o.renderSlot)(e.$slots,"suffix",{},void 0,!0),e.hasTooltip?((0,o.openBlock)(),(0,o.createBlock)(f,{key:0,hover:e.hoverTooltip,value:e.tooltipValue,status:e.status},null,8,["hover","value","status"])):(0,o.createCommentVNode)("",!0),e.validationMessage?((0,o.openBlock)(),(0,o.createBlock)(f,{key:1,hover:e.hoverTooltip,value:e.validationMessage},null,8,["hover","value"])):(0,o.createCommentVNode)("",!0),e.cronHint||e.subLabel?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[e.cronHint?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,id:e.describedById,role:"alert","aria-label":e.cronHint},(0,o.toDisplayString)(e.cronHint),9,n)):e.subLabel?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,id:e.describedById},null,8,u)),[[y,e.subLabel]]):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)],2)}const c=["value","data-testid","disabled","placeholder","spellcheck"];function h(e,t,a,r,i,s){return(0,o.openBlock)(),(0,o.createElementBlock)("textarea",(0,o.mergeProps)({ref:"ta",value:e.value,"data-testid":e.$attrs["data-testid"]?e.$attrs["data-testid"]:"text-area-auto-grow",disabled:e.isDisabled,style:e.style,placeholder:e.placeholder,class:[e.className,"no-resize no-ease"]},e.$attrs,{spellcheck:e.spellcheck,onPaste:t[0]||(t[0]=t=>e.$emit("paste",t)),onInput:t[1]||(t[1]=t=>e.onInput(t)),onFocus:t[2]||(t[2]=t=>e.$emit("focus",t)),onBlur:t[3]||(t[3]=t=>e.$emit("blur",t))}),null,16,c)}var p=a(5250),v=a(4220);const f={queueResize(){}};var m=(0,o.defineComponent)({inheritAttrs:!1,props:{value:{type:String,required:!0},class:{type:[String,Array,Object],default:""},mode:{type:String,default:v.G5},minHeight:{type:Number,default:25},maxHeight:{type:Number,default:200},placeholder:{type:String,default:""},spellcheck:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:value","paste","focus","blur"],setup(){const e=(0,o.inject)("queueResize",f.queueResize);return{queueResize:e}},data(){return{curHeight:this.minHeight,overflow:"hidden"}},computed:{isDisabled(){return this.disabled||this.mode===v.nW},style(){return`height: ${this.curHeight}px; overflow: ${this.overflow};`},className(){return this.class}},watch:{$attrs:{deep:!0,handler(){this.queueResize()}}},created(){this.queueResize=(0,p.debounce)(this.autoSize,100)},mounted(){this.$refs.ta.style.height=`${this.curHeight}px`,this.$nextTick(()=>{this.autoSize()})},methods:{onInput(e){const t=e?.target?.value;this.$emit("update:value",t),this.queueResize()},focus(){(this.$refs?.ta).focus()},autoSize(){const e=this.$refs.ta;if(!e)return;e.style.height="1px";const t=parseInt(getComputedStyle(e).getPropertyValue("borderTopWidth"),10)||0+parseInt(getComputedStyle(e).getPropertyValue("borderBottomWidth"),10)||0,a=Math.max(this.minHeight,Math.min(e.scrollHeight+t,this.maxHeight));e.style.overflowY=e.scrollHeight>a?"auto":"hidden",e.style.height=`${a}px`,this.curHeight=a}}}),y=a(7433);const b=(0,y.A)(m,[["render",h]]);var g=b;const k=["data-testid"],B={key:0,class:"tooltip","x-placement":"bottom"},w={class:"tooltip-inner"};function x(e,t,a,r,i,s){const l=(0,o.resolveDirective)("clean-tooltip"),n=(0,o.resolveDirective)("stripped-aria-label");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{ref:"container",class:(0,o.normalizeClass)(["labeled-tooltip",{[e.status]:!0,hoverable:e.hover}])},[e.hover?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)([{hover:!e.value,[e.iconClass]:!0},"icon status-icon"]),tabindex:"0","data-testid":e.componentTestid,role:"tooltip"},null,10,k)),[[l,e.tooltipContent],[n,e.isObject(e.value)?e.value.content:e.value]]):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)([{hover:!e.value},"icon status-icon"])},null,2),e.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[t[0]||(t[0]=(0,o.createElementVNode)("div",{class:"tooltip-arrow"},null,-1)),(0,o.createElementVNode)("div",w,(0,o.toDisplayString)(e.value),1)])):(0,o.createCommentVNode)("",!0)],64))],2)}var $=(0,o.defineComponent)({props:{value:{type:[String,Object],default:null},status:{type:String,default:"error"},hover:{type:Boolean,default:!0},componentTestid:{type:String,default:"labeledTooltip-info-icon"}},computed:{iconClass(){return"error"===this.status?"icon-warning":"icon-info"},tooltipContent(){return this.isObject(this.value)?{content:this.value.content,popperClass:[`tooltip-${status}`],...this.value,triggers:["hover","touch","focus"]}:this.value?{content:this.value,triggers:["hover","touch","focus"]}:""}},methods:{isObject(e){return"object"===typeof e&&null!==e&&!!e.content}}});a(1603);const S=(0,y.A)($,[["render",x],["__scopeId","data-v-18275676"]]);var C=S,V=a(2043),E=a(7021),R=a.n(E),_=a(3369);const A={tooltipKey:{type:String,default:null},placeholder:{type:[String,Number],default:""},placeholderKey:{type:String,default:null},label:{type:String,default:null},labelKey:{type:String,default:null},value:{type:[String,Number,Object],default:""},mode:{type:String,default:v.G5},rules:{default:()=>[],type:Array,validator:e=>e.every(e=>["function"].includes(typeof e))},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},requireDirty:{default:!0,type:Boolean}},D=((0,o.defineEmits)(["update:validation"]),(e,t)=>{const a=(0,o.ref)(e.mode===v.nW||!!`${e.value}`),r=(0,o.ref)(!1),i=(0,o.ref)(null),s=(0,o.computed)(()=>e.required||e.rules?.some(e=>"required"===e?.name)),l=(0,o.computed)(()=>e.mode===v.nW),n=(0,o.computed)(()=>e.disabled||l.value),u=(0,o.computed)(()=>{const a=e.rules.find(e=>"required"===e?.name),o=[],s=e.value;if(a&&i.value&&!r.value){const e=a(s);if(e)return t("update:validation",!1),e}for(const t of e.rules){const e=t(s);e&&"required"!==t.name&&o.push(e)}return o.length>0&&(i.value||r.value||!e.requireDirty)?(t("update:validation",!1),o.join(", ")):void t("update:validation",!0)}),d=()=>{a.value=!0,r.value=!0},c=()=>{r.value=!1,e.value||(a.value=!1),i.value=Date.now()};return{raised:a,focused:r,blurred:i,onFocusLabeled:d,onBlurLabeled:c,isDisabled:n,validationMessage:u,requiredField:s}}),I=e=>{const t=(0,o.computed)(()=>null!==e.compact&&void 0!==e.compact?!!e.compact:!(e.label||e.labelKey));return{isCompact:t}},H={onInput(){}};var L=(0,o.defineComponent)({components:{LabeledTooltip:C,TextAreaAutoGrow:g},inheritAttrs:!1,props:{...A,type:{type:String,default:"text"},status:{type:String,default:null},subLabel:{type:String,default:null},tooltip:{default:null,type:[String,Object]},hoverTooltip:{type:Boolean,default:!0},ignorePasswordManagers:{default:!1,type:Boolean},maxlength:{type:Number,default:null},hideArrows:{type:Boolean,default:!1},delay:{type:Number,default:0},class:{type:String,default:""},ariaLabel:{type:String,default:""}},emits:["change","update:value","blur","update:validation"],setup(e,{emit:t}){const{focused:a,onFocusLabeled:r,onBlurLabeled:i,isDisabled:s,validationMessage:l,requiredField:n}=D(e,t),{isCompact:u}=I(e),d=(0,o.inject)("onInput",H.onInput);return{focused:a,onFocusLabeled:r,onBlurLabeled:i,onInput:d,isDisabled:s,validationMessage:l,requiredField:n,isCompact:u}},data(){return{updated:!1,validationErrors:"",inputId:`input-${(0,V.aR)(12)}`,describedById:`described-by-${(0,V.aR)(12)}`}},computed:{hasLabel(){return!this.isCompact&&(!!this.label||!!this.labelKey||!!this.$slots.label)},ariaDescribedBy(){const e=this.$attrs["aria-describedby"],t=this.cronHint||this.subLabel?this.describedById:void 0;return e&&t?`${e} ${t}`:e||t?`${e||t}`:void 0},hasTooltip(){return!!this.tooltip||!!this.tooltipKey},tooltipValue(){if(this.hasTooltip)return this.tooltipKey?this.t(this.tooltipKey):this.tooltip},hasSuffix(){return!!this.$slots.suffix},cronHint(){if("cron"!==this.type||!this.value)return;const e=["@yearly","@annually","@monthly","@weekly","@daily","@midnight","@hourly"],t=e.includes(this.value);if(!t&&!(0,_.isValidCron)(this.value,{alias:!0,allowBlankDay:!0,allowSevenAsSunday:!0}))return this.t("generic.invalidCron");try{const e=R().toString(this.value||"",{verbose:!0});return e}catch(a){return this.t("generic.invalidCron")}},_placeholder(){return this.placeholder?this.placeholder.toString():this.placeholderKey?this.t(this.placeholderKey):""},_maxlength(){if("text"===this.type&&this.maxlength)return this.maxlength},className(){return this.class}},mounted(){const e=this.$attrs?.id;e&&(this.inputId=e)},created(){this.onInput=this.delay?(0,p.debounce)(this.delayInput,this.delay):this.delayInput},methods:{focus(){const e=this.$refs.value;e&&e.focus()},select(){const e=this.$refs.value;e&&e.select()},onChange(e){this.$emit("change",e)},delayInput(e){const t="string"===typeof e?e:e?.target?.value;this.$emit("update:value",t)},onFocus(){this.onFocusLabeled()},onBlur(e){this.$emit("blur",e),this.onBlurLabeled()},escapeHtml:V.ZD}});a(6563),a(1405);const M=(0,y.A)(L,[["render",d],["__scopeId","data-v-1590120c"]]);var N=M},9971:function(e,t,a){"use strict";a.r(t);var o=a(429),r=a.n(o),i=a(1214),s=a.n(i),l=s()(r());l.push([e.id,".labeled-input.view input[data-v-1590120c]{text-overflow:ellipsis}.hideArrows input[data-v-1590120c]::-webkit-inner-spin-button,.hideArrows input[data-v-1590120c]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.hideArrows input[type=number][data-v-1590120c]{-moz-appearance:textfield}",""]),t["default"]=l}}]);
//# sourceMappingURL=ali-0.0.1-rc4.umd.min.705.js.map